NetworkManager (best choice)systemctl status NetworkManager.servicesystemctl enable NetworkManager.servicesystemctl stop NetworkManager.servicesystemctl start NetworkManager.service# NetworkManager works by describing connection (profile) and loading it up to an interface.  This can be done with GUI or CLI.  I’m just going to show CLI#Show current available connectionroot@kali:~# nmcli connection show NAME  UUID  TYPE  DEVICE  #create a static IP profileroot@kali:~# nmcli connection add type ethernet con-name static100 ifname eth0 ipv4.addresses 10.0.0.100/24 ipv4.gateway 10.0.0.1 ipv4.dns 8.8.4.4 ipv4.method manualConnection 'static100' (4afc3ae6-93d3-4ab4-a6d8-3245f779eba9) successfully added.#add an Ethernet connection “static100” to eth0#connection add type ethernet con-name static100 ifname eth0 #ip = 10.0.0.100/24 with gateway 10.0.0.1 and dns 8.8.4.4#method manual -> tells NetworkManager not to use DHCP (auto)#once compete, the connection is automatically applied to eth0#ipv4.addresses 10.0.0.100/24 ipv4.gateway 10.0.0.1 ipv4.dns 8.8.4.4 ipv4.method manualroot@kali:~# nmcli connection show NAME       UUID                                  TYPE            DEVICE static100  4afc3ae6-93d3-4ab4-a6d8-3245f779eba9  802-3-ethernet  eth0   root@kali:~# ip addr1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever    inet6 ::1/128 scope host        valid_lft forever preferred_lft forever2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000    link/ether 00:0c:29:57:98:b6 brd ff:ff:ff:ff:ff:ff    inet 10.0.0.100/24 brd 10.0.0.255 scope global eth0       valid_lft forever preferred_lft forever    inet6 2605:e000:1124:112:96d:23be:b7e5:caed/64 scope global noprefixroute dynamic        valid_lft 604751sec preferred_lft 604751sec    inet6 fd62:5b7e:ba5:0:37b0:d3ae:1e0e:1925/64 scope global noprefixroute dynamic        valid_lft 7151sec preferred_lft 3551sec    inet6 fe80::feb9:3d73:737d:17c4/64 scope link        valid_lft forever preferred_lft foreverroot@kali:~# cat /etc/resolv.conf # Generated by NetworkManagernameserver 8.8.4.4root@kali:~# ls -l /etc/resolv.conflrwxrwxrwx 1 root root 35 Oct 27 19:47 /etc/resolv.conf -> /var/run/NetworkManager/resolv.conf#one interesting point is /etc/resolv.conf is now a symbolic link to NetwotkManager’s resolv.conf file.  If I run dhclient, a new IP configuration is fetch from the DHCP including DNS info root@kali:~# dhclientsmbd.service is not active, cannot reload.invoke-rc.d: initscript smbd, action "reload" failed.root@kali:~# cat /etc/resolv.conf domain hawaii.rr.comsearch hawaii.rr.comnameserver 8.8.8.8nameserver 209.18.47.62nameserver 209.18.47.61root@kali:~# ip addr1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever    inet6 ::1/128 scope host        valid_lft forever preferred_lft forever2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000    link/ether 00:0c:29:57:98:b6 brd ff:ff:ff:ff:ff:ff    inet 10.0.0.100/24 brd 10.0.0.255 scope global eth0       valid_lft forever preferred_lft forever    inet 10.0.0.10/24 brd 10.0.0.255 scope global secondary eth0       valid_lft forever preferred_lft forever    inet6 2605:e000:1124:112:96d:23be:b7e5:caed/64 scope global noprefixroute dynamic        valid_lft 604733sec preferred_lft 604733sec    inet6 fd62:5b7e:ba5:0:37b0:d3ae:1e0e:1925/64 scope global noprefixroute dynamic        valid_lft 7133sec preferred_lft 3533sec    inet6 fe80::feb9:3d73:737d:17c4/64 scope link        valid_lft forever preferred_lft foreverroot@kali:~# ls -l /etc/resolv.conf lrwxrwxrwx 1 root root 35 Oct 27 19:47 /etc/resolv.conf -> /var/run/NetworkManager/resolv.conf#to set it back to only static IP, reload the “static100” connection profileroot@kali:~# nmcli connection up static100 Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/6)root@kali:~# ip addr1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever    inet6 ::1/128 scope host        valid_lft forever preferred_lft forever2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000    link/ether 00:0c:29:57:98:b6 brd ff:ff:ff:ff:ff:ff    inet 10.0.0.100/24 brd 10.0.0.255 scope global eth0       valid_lft forever preferred_lft forever    inet6 2605:e000:1124:112:96d:23be:b7e5:caed/64 scope global noprefixroute dynamic        valid_lft 604782sec preferred_lft 604782sec    inet6 fd62:5b7e:ba5:0:37b0:d3ae:1e0e:1925/64 scope global noprefixroute dynamic        valid_lft 7182sec preferred_lft 3582sec    inet6 fe80::feb9:3d73:737d:17c4/64 scope link        valid_lft forever preferred_lft forever#create dynamic (DHCP) IP profile.  By default ipv4.methos is set to auto, and no need to specify any IP info.  Don’t fotget to upload the connection profileroot@kali:~# nmcli connection add type ethernet con-name dynamicIP ifname eth0Connection 'dynamicIP' (14af32f1-d781-40c3-bd8f-0575e7740921) successfully added.root@kali:~# nmcli connection show NAME       UUID                                  TYPE            DEVICE static100  4afc3ae6-93d3-4ab4-a6d8-3245f779eba9  802-3-ethernet  eth0   dynamicIP  14af32f1-d781-40c3-bd8f-0575e7740921  802-3-ethernet  --     root@kali:~# nmcli connection up dynamicIP Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/7)root@kali:~# ip addr1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever    inet6 ::1/128 scope host        valid_lft forever preferred_lft forever2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000    link/ether 00:0c:29:57:98:b6 brd ff:ff:ff:ff:ff:ff    inet 10.0.0.10/24 brd 10.0.0.255 scope global dynamic eth0       valid_lft 86394sec preferred_lft 86394sec    inet6 2605:e000:1124:112:8483:dcd1:ffdd:5ba7/64 scope global noprefixroute dynamic        valid_lft 604791sec preferred_lft 604791sec    inet6 fd62:5b7e:ba5:0:adad:482d:5b7b:6445/64 scope global noprefixroute dynamic        valid_lft 7191sec preferred_lft 3591sec    inet6 fe80::de3f:ee5d:263:92ba/64 scope link        valid_lft forever preferred_lft forever root@kali:~# cat /etc/resolv.conf # Generated by NetworkManagersearch hawaii.rr.comnameserver 8.8.8.8nameserver 209.18.47.62nameserver 209.18.47.61root@kali:~# ls -l /etc/resolv.conf lrwxrwxrwx 1 root root 35 Oct 27 20:04 /etc/resolv.conf -> /var/run/NetworkManager/resolv.conf#to modify the dynamic connection and add custom DNSroot@kali:~# nmcli connection modify dynamicIP ipv4.dns 8.8.4.4root@kali:~# nmcli connection up dynamicIP Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/8)root@kali:~# cat /etc/resolv.conf # Generated by NetworkManagersearch hawaii.rr.comnameserver 8.8.8.8nameserver 209.18.47.62nameserver 209.18.47.61# NOTE: the libc resolver may not support more than 3 nameservers.# The nameservers listed below may not be recognized.nameserver 8.8.4.4#***adding below to /etc/dhcp/dhclient.conf, and reload connection profile might be a better deal.***#prepend domain-name-servers 127.0.0.1; /etc/network/interfaces (not so good anymore, lets move on)With this method, any interface described in /etc/network/interfaces will be ignored by NetworkManager (not managed).  However, its still best to disable the the NetworkManager If not needed because it turns  /etc/resolv.conf into a symbolic link to /var/run/NetworkManager/resolv.conf and it screws everything up.  systemctl disable NetworkManager.servicesystemctl stop NetworkManager.serviceroot@kali:~# nano -c /etc/network/interfacesroot@kali:~# cat /etc/network/interfacessource /etc/network/interfaces.d/*# The loopback network interfaceauto loiface lo inet loopbackauto eth0iface eth0 inet staticaddress 10.0.0.120/24gateway 10.0.0.1#dns-nameservers 8.8.4.4#auto eth0#iface eth0 inet dhcproot@kali:~# ip addr1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever    inet6 ::1/128 scope host        valid_lft forever preferred_lft forever2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000    link/ether 00:0c:29:57:98:b6 brd ff:ff:ff:ff:ff:ff    inet 10.0.0.10/24 brd 10.0.0.255 scope global dynamic eth0       valid_lft 86387sec preferred_lft 86387sec    inet6 2605:e000:1124:112:8483:dcd1:ffdd:5ba7/64 scope global noprefixroute dynamic        valid_lft 604790sec preferred_lft 604790sec    inet6 fd62:5b7e:ba5:0:adad:482d:5b7b:6445/64 scope global noprefixroute dynamic        valid_lft 7190sec preferred_lft 3590sec    inet6 fe80::de3f:ee5d:263:92ba/64 scope link        valid_lft forever preferred_lft foreverroot@kali:~# ip address del 10.0.0.10/24 dev eth0root@kali:~# ifdown eth0 --forceRTNETLINK answers: No such processRTNETLINK answers: Cannot assign requested addressroot@kali:~# ifup eth0 --forceroot@kali:~# ip addr1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever    inet6 ::1/128 scope host        valid_lft forever preferred_lft forever2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000    link/ether 00:0c:29:57:98:b6 brd ff:ff:ff:ff:ff:ff    inet 10.0.0.120/24 brd 10.0.0.255 scope global eth0       valid_lft forever preferred_lft foreverroot@kali:~# ls -l /etc/resolv.conf lrwxrwxrwx 1 root root 35 Oct 27 18:31 /etc/resolv.conf -> /var/run/NetworkManager/resolv.conf